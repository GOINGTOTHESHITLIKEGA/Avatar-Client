<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eaglecraft Launcher</title>
<style>
  /* Reset & body */
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    background-color: #0b0d13;
    color: #c9d1d9;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  /* Launcher container */
  .launcher {
    width: 450px;
    background: #161b22;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.6);
    overflow: hidden;
  }

  /* Tabs */
  .tabs {
    display: flex;
    background: #0d1117;
  }
  .tab {
    flex: 1;
    text-align: center;
    padding: 12px 0;
    cursor: pointer;
    transition: background 0.2s;
  }
  .tab.active, .tab:hover {
    background: #21262d;
  }

  /* Content */
  .content {
    padding: 30px;
  }

  h1 {
    text-align: center;
    margin-bottom: 20px;
    color: #58a6ff;
  }

  select, input[type="file"] {
    width: 100%;
    padding: 10px;
    margin: 12px 0;
    border-radius: 6px;
    border: 1px solid #30363d;
    background-color: #0d1117;
    color: #c9d1d9;
  }

  /* Launch button */
  .launch-btn {
    width: 100%;
    padding: 14px;
    background: linear-gradient(90deg, #238636, #2ea043);
    color: white;
    font-weight: bold;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    margin-top: 12px;
    position: relative;
    overflow: hidden;
    transition: transform 0.2s;
  }

  .launch-btn:hover {
    transform: scale(1.05);
  }

  .launch-btn.loading::after {
    content: "";
    position: absolute;
    top: 0; left: -100%;
    width: 100%;
    height: 100%;
    background: rgba(255,255,255,0.2);
    animation: loading 1s linear infinite;
  }

  @keyframes loading {
    to { left: 100%; }
  }

  .error {
    color: #f85149;
    margin-top: 10px;
    text-align: center;
  }

</style>
</head>
<body>
<div class="launcher">
  <div class="tabs">
    <div class="tab active" data-tab="home">Home</div>
    <div class="tab" data-tab="settings">Settings</div>
    <div class="tab" data-tab="mods">Mods</div>
  </div>

  <div class="content" id="tabContent">
    <h1>Welcome to Eaglecraft</h1>

    <label for="version">Select Minecraft Version:</label>
    <select id="version">
      <option value="">--Select Version--</option>
      <option value="1.5.2">1.5.2</option>
      <option value="1.8.8">1.8.8</option>
      <option value="1.12.2">1.12.2</option>
    </select>

    <input type="file" id="fileInput" accept=".html" />
    <button class="launch-btn" id="launchBtn">Launch</button>
    <div class="error" id="error"></div>
  </div>
</div>

<script>
const tabs = document.querySelectorAll('.tab');
const tabContent = document.getElementById('tabContent');

tabs.forEach(tab => {
  tab.addEventListener('click', () => {
    tabs.forEach(t => t.classList.remove('active'));
    tab.classList.add('active');
    const name = tab.getAttribute('data-tab');
    if(name === "home"){
      tabContent.innerHTML = `
        <h1>Welcome to Eaglecraft</h1>
        <label for="version">Select Minecraft Version:</label>
        <select id="version">
          <option value="">--Select Version--</option>
          <option value="1.5.2">1.5.2</option>
          <option value="1.8.8">1.8.8</option>
          <option value="1.12.2">1.12.2</option>
        </select>
        <input type="file" id="fileInput" accept=".html" />
        <button class="launch-btn" id="launchBtn">Launch</button>
        <div class="error" id="error"></div>
      `;
      initLaunch(); // rebind events
    } else {
      tabContent.innerHTML = `<h1>${name.charAt(0).toUpperCase()+name.slice(1)}</h1><p style="text-align:center;color:#8b949e;margin-top:20px;">Coming soon...</p>`;
    }
  });
});

function initLaunch(){
  const launchBtn = document.getElementById('launchBtn');
  const versionSelect = document.getElementById('version');
  const fileInput = document.getElementById('fileInput');
  const errorDiv = document.getElementById('error');

  launchBtn.addEventListener('click', () => {
    errorDiv.textContent = "";
    const version = versionSelect.value;
    const file = fileInput.files[0];

    if (!["1.5.2","1.8.8","1.12.2"].includes(version)){
      errorDiv.textContent = "Error: Incompatible version!";
      return;
    }
    if (!file){
      errorDiv.textContent = "Error: Please upload an HTML file!";
      return;
    }

    // Add loading animation
    launchBtn.classList.add('loading');
    setTimeout(() => {
      const fileURL = URL.createObjectURL(file);
      window.open(fileURL, "_blank");
      launchBtn.classList.remove('loading');
      window.close();
    }, 1500); // simulate loading
  });
}

// Initialize first launch button
initLaunch();
</script>
</body>
</html>
